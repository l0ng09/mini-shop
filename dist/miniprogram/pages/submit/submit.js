(()=>{var e=getApp(),t=null;Page({data:{deliveryCost:0,deliveryType:"fast",addressData:{name:"张三",phone:"18912345678",address:"深圳市南山区"}},onDeliveryTypeChange:function(e){this.setData({deliveryType:e.detail.value})},getremark:function(e){t.remark=e.detail.value},onLoad:function(){t=this;var s=wx.getStorageSync("ids");e.getBillList({ids:s,success:function(e){var a=e.reduce((function(e,t){return e+t.number*t.price}),0);t.setData({ids:s,billNum:e.length,billList:e,totalAmount:a})}})},submitorder:function(){wx.requestSubscribeMessage({tmplIds:["Wf8wTrm0qtXgSOcSF0i57b-24fYxFld70_Q61qut_mo"],success:function(e){console.log(e)},fail:function(e){console.log(e)},complete:function(){e.submitorder({ids:t.data.ids,deliveryType:t.data.deliveryType,addressData:t.data.addressData,remark:t.remark,success:function(){wx.showModal({title:"模拟付款",content:"是否付款，付款不可回退，请确认",success:function(s){s.confirm?e.toPayTap({ids:t.data.ids,success:function(e){wx.switchTab({url:"../order/order"})}}):wx.switchTab({url:"../order/order"})}})}})}})}})})();